<nav class="app-header">
    <div class="header-container">
        <!-- Branding -->
        <div class="logo" style="display: flex; justify-content: start; align-items:center">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 8v4l3 3M3.22302 14C4.13247 18.008 7.71683 21 12 21c4.9706 0 9-4.0294 9-9 0-4.97056-4.0294-9-9-9-3.72916 0-6.92858 2.26806-8.29409 5.5M7 9H3V5" />
            </svg>
        </div>
        <!-- Navigation Items -->
        <div class="nav-items" id="mainNav">
        </div>

        <!-- Mobile Menu Toggle -->
        <button class="menu-toggle" aria-label="Toggle navigation">
            <svg class="hamburger" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
            </svg>
            <?xml version="1.0" encoding="utf-8"?>

        </button>
    </div>
</nav>

<script>
    // Mobile Menu Toggle
    const menuToggle = document.querySelector('.menu-toggle');
    const navItems = document.querySelector('.nav-items');
    const links = [
        {
            "text": "Validar vencimentos",
            "href": "/",
            "icon": "M3 4h18a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm13-2v4M8 2v4M3 10h18M12 20a4 4 0 1 1 4-4 4 4 0 0 1-4 4zm0-6v2l1.5 1.5"
        },
        {
            "text": "Todos os produtos",
            "href": "/produtos",
            "icon": "M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"
        },
        {
            "text": "Novo Produto",
            "href": "/adicionar-produto",
            "icon": "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
        },
        {
            "text": "Configurações",
            "href": "/configurações",
            "icon": "M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.42-.48-.42h-3.84c-.24 0-.44.18-.47.42l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.42.48.42h3.84c.24 0 .44-.18.47-.42l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
        }
    ]

    function toggleMenu() {
        const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
        menuToggle.setAttribute('aria-expanded', !isExpanded);
        navItems.classList.toggle('active');

        // Animate hamburger icon
        menuToggle.classList.toggle('open');
    }

    // Click handler
    menuToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleMenu();
    });

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
        if (navItems.classList.contains('active')) {
            toggleMenu();
        }
    });

    // Close menu on nav link click
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            if (window.innerWidth < 768) {
                toggleMenu();
            }
        });
    });



    function generateNavItem(item) {
        return `
        <a href="${item.href}" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 24 24" width="18" height="18">
                <path d="${item.icon}"/>
            </svg>
            <span>${item.text}</span>
        </a>
    `;
    }

    document.getElementById('mainNav').innerHTML = links.map(generateNavItem).join('');
</script>